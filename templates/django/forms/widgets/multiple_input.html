{% with id=widget.attrs.id %}
    <div{% if id %} id="{{ id }}"{% endif %} class="{% if widget.attrs.class %}{{ widget.attrs.class }}{% else %}row{% endif %}">
        {% for group, options, index in widget.optgroups %}
            {% if group %}
                <div class="col-12">
                    <div class="row">
                        <label class="form-label">{{ group }}</label>
                        <div class="input-group mb-3">
            {% endif %}
            {% for option in options %}
                            <div class="col-sm-12 col-md-6">
                                {% include option.template_name with widget=option %}
                            </div>
            {% endfor %}
            {% if group %}
                        </div>
                    </div>
                </div>
            {% endif %}
        {% endfor %}
    </div>
{% endwith %}
